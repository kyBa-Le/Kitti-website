<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Dưới đây là css của payment form */
        #payment-form * {
            margin-left: 0;
            margin-right: 0;
        }

        #paymentForm {
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            align-items: center;
        }

        #creditcard-info input {
            width: 90%;
        }

        #user-comment {
            padding-right: 0;
        }

        #payment-form-title {
            background-color: #FCF3C8;
            align-self: center;
            padding: 0 0;
            width: 90%;
        }

        #div-order-button button {
            border: #FC8A06 1px solid;
            background-color: transparent;
            width: 20%;
            margin-left: 3%;
        }

        #div-order-button button:hover {
            background-color: #FC8A06;
        }

        .payment-in:focus,
        .payment-in:active {
            border-color: #FC8A06 !important;
            outline: none !important;
            box-shadow: none !important;
            background-color: transparent !important;
        }

        #product-information {
            position: relative;
            height: 200px !important;
            overflow-y: scroll;
        }

        #list-example {
            position: absolute;
        }

        /* Kết thúc phần css của payment form */

        /* Phần css của hiển thị thành công */
        .success-icon {
            width: 60px;
            margin-bottom: 10px;
        }
        .modal-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
            width: 100%; 
        }


        .item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }

        .item-img {
            width: 50px;
            height: 50px;
            border-radius: 5px;
            margin-right: 10px;
        }

        .item-info {
            display: flex;
            justify-content: space-between;
            width: 100%;
            font-size: 1em;
        }

        .item-info span {
            font-size: 14px;
            color: coral;
        }

        .total-amount {
            color: coral;
            font-weight: bold;
            font-size: 1.2em; 
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.5em;
            font-weight: bold;
            color: #de700f;
            cursor: pointer;
            background-color: transparent;
            border: none;
        }

        .close-btn:hover {
            opacity: 0.7;
        }

        #ordered-product {
            overflow: scroll;
        }

        .modal-dialog {
            max-width: 500px; 
            max-height: 80vh; 
            overflow-y: auto; 
            border: 1px solid #FC8A06;
            height: auto; 
        }

        .modal-content {
            padding: 15px;
        }

        .modal-body {
            max-height: none; 
            overflow-y: visible;
            border: 1px solid #FC8A06;
        }

        .order-details p {
            font-size: 1 em;
            margin: 0;
        }

        .close-bottom {
            background-color: gray;
            padding: 5px 10px;
            color: white;
            border: 1px solid gray;
        }

        .close-bottom:hover {
            opacity: 0.8;
        }

        .address {
            font-size: 1em;
            margin-bottom: 10px;
        }

        .total-amount {
            font-size: 1em;
        }
    </style>
</head>

<body>
    <!-- Bắt đầu code phần form nhập thông tin đơn hàng -->
    <div class="border border-warning rounded-1 shadow-lg" id="paymentForm">
        <!-- Phần logo -->
        <div class="text-center mt-5">
            <a class="navbar-brand " href="#" style="color: #3E6001; font-size: 32px; font-weight: bold;">
                <img src="/public/image/Kitti-Logo.jpg" alt="" width="80" height="80" class="d-inline-block align-text-center"
                    style="border-radius: 50%; border: 1px solid #FC8A06;">
                Kitti
            </a>
        </div>
        <!-- Tiêu đề form -->
        <div class="container d-flex justify-content-center mt-3" id="payment-form-title">
            <h2>Thông tin đơn hàng</h2>
        </div>
        <!-- Form nhập thông tin -->
        <form class="row g-3 m-5 mt-1" id="payment-form">
            <!-- Tên -->
            <div class="col-6">
                <label for="inputName4" class="form-label">Tên người nhận</label>
                <input type="text" class="form-control payment-in" id="inputName4">
            </div>
            <!-- Số điện thoại -->
            <div class="col-6">
                <label for="inputPhoneNumber4" class="form-label">Số điện thoại</label>
                <input type="text" class="form-control payment-in" id="inputPhoneNumber4">
            </div>
            <!-- Địa chỉ -->
            <div class="col-12">
                <label for="inputAddress" class="form-label">Địa chỉ nhận hàng</label>
                <input type="text" class="form-control payment-in" id="inputAddress" placeholder="1234 Main St">
            </div>
            <!-- Các món hàng được chọn -->
            <div class="col-5 border" id="ordered-product">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                        Default checkbox
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked>
                    <label class="form-check-label" for="flexCheckChecked">
                        Checked checkbox
                    </label>
                </div>
            </div>
            <!-- Ghi chú cho ngừơi giao hàng -->
            <div class="col-7" id="user-comment">
                <textarea class="form-control payment-in" id="exampleFormControlTextarea1" rows="4" placeholder="Ghi chú cho người giao hàng"></textarea>
            </div>
            <!-- Nút thanh toán -->
            <div class="container-fluid d-flex justify-content-end" id="div-order-button">
                <!-- Nút sẽ kích hoạt modal -->
                <button type="button" class="btn btn-warning d-flex" data-bs-toggle="modal" data-bs-target="#orderModal" id="cancel-order">
                    Hủy
                </button>
                <button type="button" class="btn btn-warning d-flex" data-bs-toggle="modal" data-bs-target="#orderModal" id="pay-button">
                    Đặt hàng
                </button>
            </div>
        </form>
    </div>
    <!-- Kết thúc phần form đơn hàng -->

    <!-- Dưới đây là phần thông báo thanh toán thành công -->
    <div class="modal fade" id="orderModal" tabindex="-1" aria-labelledby="orderModalLabel" aria-hidden="true" data-bs-backdrop="false">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="orderModalLabel">Thanh toán thành công</h2>
                    <button type="button" class="btn-close close-btn" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img src="https://cdn-icons-png.flaticon.com/512/845/845646.png" alt="Success" class="success-icon mb-3" width="100px">
                    <h3>Chi tiết đơn hàng</h3>
                    <div class="order-details">
                        <div class="item">
                            <img src="https://images.pexels.com/photos/11043968/pexels-photo-11043968.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Phở Bò" class="item-img">
                            <div class="item-info">
                                <p>Phở Bò <span class="quantity">(Số lượng: 1)</span></p>
                                <span>50.000₫</span>
                            </div>
                        </div>
                        <div class="item">
                            <img src="https://images.pexels.com/photos/1893572/pexels-photo-1893572.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Bún Chả" class="item-img">
                            <div class="item-info">
                                <p>Bún Chả <span class="quantity">(Số lượng: 2)</span></p>
                                <span>60.000₫</span>
                            </div>
                        </div>
                        <div class="item">
                            <img src="https://images.pexels.com/photos/6260921/pexels-photo-6260921.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1" alt="Cơm Tấm Sườn" class="item-img">
                            <div class="item-info">
                                <p>Cơm Tấm Sườn <span class="quantity">(Số lượng: 1)</span></p>
                                <span>70.000₫</span>
                            </div>
                        </div>
                    </div>
                    <!-- Thêm địa chỉ và tên khách -->
                    <div class="address mt-3">
                        <p><strong>Tên khách hàng:</strong> Nguyễn Thị Hà Sang</p>
                        <p><strong>Địa chỉ giao hàng:</strong> Mỹ Khê 3, Phước Mỹ, Sơn Trà, Đà Nẵng</p>
                    </div>
                    <div class="total">
                        <p>Tổng cộng: <span class="total-amount">180.000₫</span></p>
                    </div>
                </div>
                <!-- Nút đóng -->
                <div class="modal-footer">
                    <button type="button" class="close-bottom" data-bs-dismiss="modal">Đóng</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Kết thúc phần thông báo thanh toán thành công -->
    <!-- Script kích hoạt modal -->
    <script>
        const ordered = document.getElementById('ordered-product');
        const note = document.getElementById('exampleFormControlTextarea1');
        console.log(note.offsetHeight);
        ordered.style.height = note.offsetHeight + 'px';
        const payButton = document.getElementById('pay-button');

        payButton.addEventListener('click', function () {
            const successModal = new bootstrap.Modal(document.getElementById('successModal'));
            successModal.show();
        });
    </script>
</body>
</html>